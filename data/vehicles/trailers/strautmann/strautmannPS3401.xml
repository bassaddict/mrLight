<?xml version="1.0" encoding="utf-8" standalone="no" ?>
<vehicle type="manureSpreader">
    <annotation>Copyright (C) GIANTS Software GmbH, All Rights Reserved.</annotation>
    <name>
        <en>Strautmann PS 3401</en>
        <de>Strautmann PS 3401</de>
    </name>
    <typeDesc>$l10n_TypeDesc_ManureSpreader</typeDesc>
    <filename>data/vehicles/trailers/strautmann/strautmannPS3401.i3d</filename>

    <size width="3.5" length="8"/>

    <powerConsumer ptoRpm="450" neededPtoPower="60"/>
    <speedLimit value="20" />

    <wheels autoRotateBackSpeed="2.0">
        <wheel  restLoad="2.4" repr="0>0" driveNode="0>0|0" radius="0.69" initialCompression="40" suspTravel="0.15" spring="40" damper="120" frictionScale="1.5" mass="0.265" steeringAxleScale="0.3" steeringAxleRotMax="10" steeringAxleRotMin="-10" />
        <wheel  restLoad="2.4" repr="0>1" driveNode="0>1|0" radius="0.69" initialCompression="40" suspTravel="0.15" spring="40" damper="120" frictionScale="1.5" mass="0.265" steeringAxleScale="0.3" steeringAxleRotMax="10" steeringAxleRotMin="-10" />
        <wheel  restLoad="2.4" repr="0>2"                   radius="0.69" initialCompression="40" suspTravel="0.15" spring="40" damper="120" frictionScale="1.5" mass="0.265" hasTyreTracks="true" tyreTrackAtlasIndex="2"/>
        <wheel  restLoad="2.4" repr="0>3"                   radius="0.69" initialCompression="40" suspTravel="0.15" spring="40" damper="120" frictionScale="1.5" mass="0.265" hasTyreTracks="true" tyreTrackAtlasIndex="2"/>
        <wheel  restLoad="2.4" repr="0>4" driveNode="0>4|0" radius="0.69" initialCompression="40" suspTravel="0.15" spring="40" damper="120" frictionScale="1.5" mass="0.265" steeringAxleScale="-0.7" steeringAxleRotMax="25" steeringAxleRotMin="-25" />
        <wheel  restLoad="2.4" repr="0>5" driveNode="0>5|0" radius="0.69" initialCompression="40" suspTravel="0.15" spring="40" damper="120" frictionScale="1.5" mass="0.265" steeringAxleScale="-0.7" steeringAxleRotMax="25" steeringAxleRotMin="-25" />
    </wheels>

    <dynamicallyLoadedParts>
        <dynamicallyLoadedPart node="1|0" linkNode="0>0|0"  filename="$data/vehicles/wheels/trelleborg/twinRadial_710_50R26_5.i3d" />
        <dynamicallyLoadedPart node="1|1" linkNode="0>1|0"  filename="$data/vehicles/wheels/trelleborg/twinRadial_710_50R26_5.i3d" />
        <dynamicallyLoadedPart node="1|0" linkNode="0>2"    filename="$data/vehicles/wheels/trelleborg/twinRadial_710_50R26_5.i3d" />
        <dynamicallyLoadedPart node="1|1" linkNode="0>3"    filename="$data/vehicles/wheels/trelleborg/twinRadial_710_50R26_5.i3d" />
        <dynamicallyLoadedPart node="1|0" linkNode="0>4|0"  filename="$data/vehicles/wheels/trelleborg/twinRadial_710_50R26_5.i3d" />
        <dynamicallyLoadedPart node="1|1" linkNode="0>5|0"  filename="$data/vehicles/wheels/trelleborg/twinRadial_710_50R26_5.i3d" />
        <dynamicallyLoadedPart node="0" linkNode="0>5|1|0"  filename="$data/vehicles/shared/wheelChock01.i3d" />
        <dynamicallyLoadedPart node="0" linkNode="0>5|1|1"  filename="$data/vehicles/shared/wheelChock01.i3d" />
        <dynamicallyLoadedPart node="0" linkNode="0>13|1|0" filename="$data/vehicles/shared/wheelChock01.i3d" />
        <dynamicallyLoadedPart node="0" linkNode="0>13|1|1" filename="$data/vehicles/shared/wheelChock01.i3d" />
    </dynamicallyLoadedParts>

    <brakeForce>1.5</brakeForce>

    <steeringAxleAngleScale startSpeed="5" endSpeed="70" />

    <lights>
        <light decoration="0>13|6" lightType="0"/>
        <light decoration="0>13|2|0|0" lightType="1"/><!-- realLight="0>18"  -->
        <light decoration="0>13|10|0" lightType="1"/>
    </lights>

    <brakeLights>
        <brakeLight index="0>13|7" />
    </brakeLights>

    <turnSignals>
        <turnSignalLeft index="0>13|9|0" />
        <turnSignalRight index="0>13|9|1" />
    </turnSignals>

    <reverseLights>
        <reverseLight index="0>13|8" />
    </reverseLights>

    <workAreas>
        <workArea startIndex="0>8" widthIndex="0>9" heightIndex="0>10" type="sprayer" disableBackwards="false" />
    </workAreas>

    <aiLeftMarker index="0>16" />
    <aiRightMarker index="0>17" />
    <aiBackMarker index="0>18" />
    <aiForceTurnNoBackward value="true" />

    <capacity>32000</capacity>

    <!--shovelFillTrigger index="0>9"/-->

    <spraySound file="$data/vehicles/trailers/manureSpreader.wav" pitchOffset="1" volume="0.65"/>

    <turnedOnRotationNodes>
        <turnedOnRotationNode index="0>13|4|0|0" type="manureSpreader" rotAxis="2" rotSpeed="-1200" turnOnFadeTime="1" turnOffFadeTime="2"/>
        <turnedOnRotationNode index="0>13|4|0|1" type="manureSpreader" rotAxis="2" rotSpeed="1200"  turnOnFadeTime="1" turnOffFadeTime="2"/>
        <turnedOnRotationNode index="0>13|4|1"   type="manureSpreader" rotAxis="1" rotSpeed="-800" turnOnFadeTime="1" turnOffFadeTime="2"/>
        <turnedOnRotationNode index="0>13|4|2"   type="manureSpreader" rotAxis="1" rotSpeed="800"  turnOnFadeTime="1" turnOffFadeTime="2"/>
    </turnedOnRotationNodes>

    <manureSpreaderScrollers>
        <scrollerNode index="0>13|5|0" shaderParameterName="scrollPosition" scrollSpeed="0.08" scrollLength="7.933" shaderParameterComponent="1" turnOnFadeTime="1" turnOffFadeTime="1"/>
        <scrollerNode index="0>13|5|1" shaderParameterName="offsetUV"       scrollSpeed="0.3"                        shaderParameterComponent="1" turnOnFadeTime="1" turnOffFadeTime="1"/>
    </manureSpreaderScrollers>

    <fillSound file="$data/vehicles/shared//manureFillSound.wav" pitchOffset="1.0" volume="1.5" />

    <inputAttacherJoints>
        <inputAttacherJoint index="0>6" jointType="trailerLow" indexPTO="0>7" />
    </inputAttacherJoints>

    <fillVolumes>
        <fillVolume index="0>12|0" scrollSpeedDischarge="0 0 0.4" />
    </fillVolumes>

    <fillVolumeDischargeInfo index="0>14" width="1.4" length="1.0" alsoUseLoadInfoForDischarge="true" loadInfoFillFactor="0.98" loadInfoSizeScale="3 3.5" />

    <fillVolumeLoadInfo index="0>15" width="1.4" length="1.0" />

    <sprayUsages>
        <sprayUsage fillType="manure" litersPerSecond="195" />
    </sprayUsages>

    <fillTypes fillTypes="manure" />

    <sprayParticleSystems>
        <sprayParticleSystem type="manure" node="0>11" psRootNode="0" foldMinLimit="0.8" foldMaxLimit="1.0" file="$data/vehicles/particleAnimations/strautmann/strautmannPS3401Particles.i3d" />
    </sprayParticleSystems>

    <sprayerEffects>
        <sprayerEffect>
            <effectNode node="0|0|0" linkNode="0>11" delay="0" foldMinLimit="0.3" foldMaxLimit="1.0" filename="$data/vehicles/particleAnimations/strautmann/strautmannPS3401.i3d" />
        </sprayerEffect>
    </sprayerEffects>

    <doorAnimation name="openDoor" openSpeedScale="2" closeSpeedScale="-1" />

    <support animationName="moveSupport" />

    <foldingParts startAnimTime="1" turnOnFoldDirection="0">
        <foldingPart animationName="foldTopWall" speedScale="1" />
    </foldingParts>

    <animations>
        <animation name="openDoor">
            <part node="0>13|2" startTime="0" endTime="2" startTrans="0.002 2.627 -3.658" endTrans="0.002 4.037 -3.409"/>
        </animation>

        <animation name="foldTopWall">
            <part node="0>13|3" startTime="0" endTime="2" startRot="0 0 -180" endRot="0 0 0"/>
        </animation>

        <!-- move support wheel down/up -->
        <animation name="moveSupport">
            <part node="0>5|1" startTime="0" endTime="0.05" visibility="false" />
            <part node="0>13|1" startTime="0" endTime="0.05" visibility="true" />
            <part node="0>5|1" startTime="0.05" endTime="0.1" visibility="true" />
            <part node="0>13|1" startTime="0.05" endTime="0.1" visibility="false" />
            <part node="0>13|0" startTime="0" duration="0.25" startTrans="0.438 0.86 4.027" endTrans="0.438 0.26 4.027" />
        </animation>
    </animations>

    <movingParts>
        <!-- steering bars -->
        <movingPart index="0>1|1" referencePoint="0>0|1" referenceFrame="0>" scaleZ="true" isActiveDirty="true" playSound="false" />
        <movingPart index="0>5|2" referencePoint="0>4|1" referenceFrame="0>" scaleZ="true" isActiveDirty="true" playSound="false" />
    </movingParts>

    <driveGroundParticleSystems>
        <driveGroundParticleSystem file="$data/vehicles/particleAnimations/shared/drivingParticleSystem.i3d" wheel="1" />
        <driveGroundParticleSystem file="$data/vehicles/particleAnimations/shared/drivingParticleSystem.i3d" wheel="2" />
        <driveGroundParticleSystem file="$data/vehicles/particleAnimations/shared/drivingParticleSystem.i3d" wheel="3" />
        <driveGroundParticleSystem file="$data/vehicles/particleAnimations/shared/drivingParticleSystem.i3d" wheel="4" />
        <driveGroundParticleSystem file="$data/vehicles/particleAnimations/shared/drivingParticleSystem.i3d" wheel="5" />
        <driveGroundParticleSystem file="$data/vehicles/particleAnimations/shared/drivingParticleSystem.i3d" wheel="6" />
    </driveGroundParticleSystems>

    <washable dirtDuration="60" washDuration="1" workMultiplier="20" />

    <components count="1">
        <component1 centerOfMass="0 0.75 -0.5" solverIterationCount="10" />
    </components>

    <schemaOverlay file="$dataS2/menu/schemas/implementSchema.png" fileSelected="$dataS2/menu/schemas/implementSchemaSelected.png" fileTurnedOn="$dataS2/menu/schemas/implementSchemaTurnedOn.png" fileSelectedTurnedOn="$dataS2/menu/schemas/implementSchemaSelectedTurnedOn.png" width="0.5" height="0.5" attacherJointPosition="0 0"/>

</vehicle>
